<% include ./adminHead.ejs %>
    <div class="container">
        <input type="button" class="btn btn-primary" value="添加商品" data-toggle="modal" data-target="#addProductModal">
        <div class="row" style="margin-top:30px;">
            <div class="col-md-12">
                    <table class="table table-striped table-bordered">
                    <tr>
                        <th>商品ID</th>
                        <th>名字</th>
                        <th>价格</th>
                        <th>Tag</th>
                        <th>Info</th>
                        <th>图片</th>
                        <th>剩余</th>
                        <th>操作</th>
                    </tr>
                    <% if(products.length>0){ %>
                    <% products.forEach(function(p,index){%>
                    <tr>
                        <td class="id"><%= p.id %></td>
                        <td class="name"><%= p.name %></td>
                        <td class="price"><%= p.price %></td>
                        <td class="tag"><%= p.tag %></td>
                        <td class="info"><%= p.info %></td>
                        <td class="pic"><%= p.pic %></td>
                        <td class="leftAmount"><%= p.leftAmount %></td>
                        <td style="display:flex">
                            <a class="text-primary ediBtn" style="flex:1;cursor:pointer;" data-toggle="modal" data-target="#editProductModal">编辑</a>
                            <a class="text-danger delBtn" style="flex:1;cursor:pointer;">删除</a>
                        </td>
                    </tr>
                    <% }) %>
                    <% } %> 
                </table>
            </div>
        </div>
    </div>
    <div class="modal fade" id="addProductModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <form id="addProductForm" action="/admin/addProduct" method="post" enctype="multipart/form-data">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h4 class="modal-title">添加商品</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="pID">商品ID</label>
                            <input type="text" id="pID" name="id" autocomplete="off" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="pName">名字</label>
                            <input type="text" id="pName" name="name" autocomplete="off" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="price">价格</label>
                            <input type="text" id="price" name="price" autocomplete="off" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="tag">Tag</label>
                            <input type="text" id="tag" name="tag" autocomplete="off" class="form-control" placeholder="以逗号分隔">
                        </div>
                        <div class="form-group">
                            <label for="info">Info</label>
                            <input type="text" id="info" name="info" autocomplete="off" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="pic">图片</label>
                            <input type="file" id="pic" name="pic" accept="image/*">
                        </div>
                        <div class="form-group">
                            <label for="leftAmount">剩余</label>
                            <input type="text" id="leftAmount" name="leftAmount" autocomplete="off" class="form-control">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-dafault" type="button" data-dismiss="modal">取消</button>
                        <button class="btn btn-primary addBtn" type="submit">添加</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div class="modal fade" id="editProductModal">
        <div class="modal-dialog">
            <div class="modal-content">
                <form id="editProductForm" action="/admin/addProduct" method="post" enctype="multipart/form-data">
                    <div class="modal-header">
                        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                        </button>
                        <h4 class="modal-title">添加商品</h4>
                    </div>
                    <div class="modal-body">
                        <div class="form-group">
                            <label for="pID">商品ID</label>
                            <input type="text" id="epID" name="id" autocomplete="off" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="pName">名字</label>
                            <input type="text" id="epName" name="name" autocomplete="off" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="price">价格</label>
                            <input type="text" id="eprice" name="price" autocomplete="off" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="tag">Tag</label>
                            <input type="text" id="etag" name="tag" autocomplete="off" class="form-control" placeholder="以逗号分隔">
                        </div>
                        <div class="form-group">
                            <label for="info">Info</label>
                            <input type="text" id="einfo" name="info" autocomplete="off" class="form-control">
                        </div>
                        <div class="form-group">
                            <label for="pic">图片</label>
                            <input type="file" id="epic" name="pic" accept="image/*">
                        </div>
                        <div class="form-group">
                            <label for="leftAmount">剩余</label>
                            <input type="text" id="eleftAmount" name="leftAmount" autocomplete="off" class="form-control">
                        </div>
                    </div>
                    <div class="modal-footer">
                        <button class="btn btn-dafault" type="button" data-dismiss="modal">取消</button>
                        <button class="btn btn-primary editSaveBtn" type="submit">Save</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
<% include ./adminFoot.ejs %>